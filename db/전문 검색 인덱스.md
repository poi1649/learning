
- 일반적인 B-Tree인덱스는 인덱스의 실제 칼럼의 일부만 잘라서 키로 사용한다.
	- 따라서 문서 내용 전체에 대한 쿼리를 실행해야하는 Full Text 검색에서는 B-Tree 인덱스를 사용할 수 없다.
	- 이를 위해 MySQL 에서는 전문 검색 인덱스를 지원한다.
- 전문 검색 인덱스를 구축하는 알고리즘에는 대표적으로 `어근 분석` 과 `n-gram` 알고리즘이 있다

### 1. 어근 분석 알고리즘

#### 불용어 

- 검색에서 별 가치가 없는 단어를 필터링해서 제거하는 작업을 의미한다.
- MySQL에서 불용어가 정의되어 있지만, 이를 사용자가 다시 정의할 수도 있다

#### 어근 분석

- 변형된 단어의 원형을 찾는 방법인데, 사실 한글은 영어처럼 단어가 잘 변형되지 않아 어근 분석 과정에서 일어나는 형태소 분석(명사 - 조사 분리)이 핵심 기능이 되기도 한다.
- 문장 구조 인식률을 높이기 위해서는 많은 실제 언어의 샘플이 필요하다.

### 2. n-gram 알고리즘

- 1개의 단어를 길이 n 의 토큰으로 나누어 저장하는 방식이다.
- 토큰 중 불용어를 포함하는 토큰은 저장되지 않는다.
	- 불용어를 인덱스마다 다르게 지정해주려면` innodb_ft_user_stopward_table` 시스템 변수를 이용할 수 있다.
- 일반적인 B-Tree에 저장된다.

### 3. 전문 검색 인덱스의 가용성

- 전문 검색 인덱스를 사용하기 위해선 반드시 `MATCH`, `AGAINST` 문법을 사용해야하며, 전문 검색에 사용되는 칼럼이 전부 `MATCH` 절에 명시되어있어야한다.
